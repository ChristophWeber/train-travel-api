get:
  operationId: get-bookings
  summary: List existing bookings
  description: Returns a list of all trips booking by the authenticated user.
  responses:
    '200':
      description: A list of bookings
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                type: array
                items:
                  $ref: ../components/schemas/Booking.yaml
              links:
                type: object
                properties:
                  self:
                    type: string
                    format: uri
                  next:
                    type: string
                    format: uri
                  prev:
                    type: string
                    format: uri
          example:
            data:
              - booking_id: efdbb9d1-02c2-4bc3-afb7-6788d8782b1e
                trip_id: efdbb9d1-02c2-4bc3-afb7-6788d8782b1e
                passenger_name: John Doe
                has_bicycle: true
                has_dog: true
              - booking_id: b2e783e1-c824-4d63-b37a-d8d698862f1d
                trip_id: b2e783e1-c824-4d63-b37a-d8d698862f1d
                passenger_name: Jane Smith
                has_bicycle: false
                has_dog: false
    '401':
      $ref: ../components/responses/Unauthorized.yaml
    '403':
      $ref: ../components/responses/Forbidden.yaml
    '429':
      $ref: ../components/responses/TooManyRequests.yaml
    '500':
      $ref: ../components/responses/InternalServerError.yaml
post:
  operationId: create-booking
  summary: Create a booking
  description: Attempts to book a trip for the authenticated user.
  security:
    - OAuth2:
        - write
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          properties:
            data:
              $ref: ../components/schemas/Booking.yaml
            links:
              type: object
              properties:
                self:
                  type: string
                  format: uri
        example:
          data:
            trip_id: efdbb9d1-02c2-4bc3-afb7-6788d8782b1e
            passenger_name: John Doe
            has_bicycle: true
            has_dog: true
  responses:
    '201':
      description: Booking successful
      content:
        application/json:
          schema:
            $ref: ../components/schemas/Booking.yaml
    '400':
      $ref: ../components/responses/BadRequest.yaml
    '401':
      $ref: ../components/responses/Unauthorized.yaml
    '404':
      $ref: ../components/responses/NotFound.yaml
    '409':
      $ref: ../components/responses/Conflict.yaml
    '429':
      $ref: ../components/responses/TooManyRequests.yaml
    '500':
      $ref: ../components/responses/InternalServerError.yaml
